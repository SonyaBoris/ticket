import{R as l,j as e,B as c,u as i,e as d,f as o}from"./index-B2137avF.js";const x="/ticket/assets/logo-KWKcuGNf.jpg",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKsAAAAPCAYAAACbZT/hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGISURBVHgB7dlBTsJAFAbgN5UElhwBN8YiEHsC6w3kBngC6wmAEyAnUE9guAGeALW1w47eQJYltn12iEA1SI2Yzub/EtI3w7yu/kymrSAADdzp9IqYq6qOwnBoWdY8r6dEABpwQjVB5Ki6VK7Y6eU8r8cgAA3iBQ8zQ9vzp4O8HoQVtLAsM0gv49WYiZ1nz3d29SCsUIhXKbuuL1n9Jq60l5Mx9bNrDEMM1v9tIQigAC++fyFIPCwHzHM2xLUqDaYuE9VW69JABizobjM2ggNKHk3TDBBWKMRkMquWyuEb/YEKMCVxW3i+nGWTDfAf0kwFrbp5mJ3bK2uCethZoRD77KypebQgC+9ZoRClSniqtttP6szaUYWR8E12t1U7svhyZqXgPQxH6qMBwgpFOVsVHPFlq2WOXCnt78cCIzloNxpHT9tugGMAaONJectMnc2McJr14+FP6xFW0EJKWYuYZusJpl7zxOzv6sFHAdAiJupmhuO8oCo4s4IW6kFKvY5SdRTS/W96PgCDgoybBPIAIgAAAABJRU5ErkJggg==",u=({ticket:s,currency:r})=>{const[n,a]=l.useState(null);console.log(n),l.useEffect(()=>{const A=localStorage.getItem(`ticket-${s.id}`);A?a(JSON.parse(A)):(localStorage.setItem(`ticket-${s.id}`,JSON.stringify(s)),a(s))},[s.price,r]);const t=l.useMemo(()=>{switch(r){case"rub":return`${s.price} ₽`;case"usd":return`${Math.round(s.price/103)} $`;case"eur":return`${Math.round(s.price/108)} €`;default:return`${s.price} ₽`}},[s.price,r]);return e.jsxs("div",{className:"bg-white rounded shadow-sm flex",children:[e.jsxs("div",{className:"p-8 border-r w-[280px]",children:[e.jsx("img",{src:x,width:200}),e.jsxs(c,{children:["Купить ",e.jsx("br",{})," за ",t]})]}),e.jsxs("div",{className:"p-8 flex justify-between flex-1 items-center",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[40px]",children:s.departure_time}),e.jsxs("span",{children:[s.origin,", ",s.origin_name]}),e.jsxs("span",{className:"text-border",children:[s.departure_date,", ",s.departure_time]})]}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("span",{className:"text-border",children:[s.stops===0?"Без":s.stops," ",s.stops===1?"пересадка":"пересадки"]}),e.jsx("img",{src:p})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-[40px]",children:s.arrival_time}),e.jsxs("span",{children:[s.destination,", ",s.destination_name]}),e.jsx("span",{className:"text-border",children:s.arrival_date})]})]})]})},m=({currency:s})=>{const r=i(),n=d(a=>a.tisket.data);return l.useEffect(()=>{r(o({transfer:[]}))},[]),e.jsx("div",{className:"w-full flex flex-col gap-5",children:n.map((a,t)=>e.jsx(u,{ticket:a,currency:s},t))})};export{m as default};
